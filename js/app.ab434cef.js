(function(){"use strict";var t={627:function(t,n,i){var e=i(6848),o=function(){var t=this,n=t._self._c;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],r=i(1656),s={},l=(0,r.A)(s,o,a,!1,null,null,null),c=l.exports,u=i(6178),d=function(){var t=this,n=t._self._c;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark",sticky:""}},[n("b-navbar-brand",{attrs:{href:"#"}},[n("img",{staticClass:"navbar-icon",attrs:{src:i(5211),alt:""}}),t._v(" Games Opinion ")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{href:"/"}},[n("b-icon",{attrs:{icon:"house-fill"}}),t._v(" Home ")],1),n("b-nav-item",{on:{click:t.toggleAdminSection}},[n("b-icon",{attrs:{icon:"gear-fill"}}),t._v(" Administración ")],1)],1)],1)],1),n("b-container",{staticClass:"home"},[n("b-row"),n("b-row",t._l(t.games,(function(i){return n("b-col",{key:i.id,staticClass:"mb-4",attrs:{cols:"12",md:"6",lg:"4"}},[n("GameCard",{attrs:{game:i},on:{likeGame:t.handleLikeGame}})],1)})),1),t.loading?n("div",{staticClass:"text-center"},[n("b-spinner",{attrs:{label:"Cargando..."}})],1):t._e(),t.error?n("div",{staticClass:"text-center text-danger"},[n("p",[t._v("Error loading games: "+t._s(t.error))])]):t._e(),t.showAdminSection?n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("AdminView")],1)],1):t._e()],1)],1)},m=[],p=(i(4114),i(8992),i(2577),function(){var t=this,n=t._self._c;return n("b-card",{attrs:{title:t.game.name,"img-src":t.imageSrc,"img-alt":"Game Image","img-top":""}},[n("b-card-text",[t._v(" Released: "+t._s(t.game.released)+" ")]),n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("b-button",{attrs:{variant:"primary"},on:{click:t.goToOpinions}},[t._v("Opinar")]),n("div",{staticClass:"d-flex align-items-center"},[n("b-button",{attrs:{variant:t.likes>0?"danger":"outline-danger"},on:{click:t.toggleLike}},[n("b-icon",{attrs:{icon:"heart-fill"}})],1),n("span",{staticClass:"ml-2"},[t._v(t._s(t.likes))])],1)],1)],1)}),h=[],b={props:["game"],data(){return{imageSrc:this.game.background_image||"path/to/placeholder-image.jpg",likes:0}},methods:{goToOpinions(){this.$router.push(`/opinions/${this.game.name}`)},toggleLike(){this.likes=this.likes>0?0:1,this.$emit("likeGame",this.game,this.likes)}},watch:{game:{immediate:!0,handler(t){this.imageSrc=t.background_image||"path/to/placeholder-image.jpg"}}}},g=b,f=(0,r.A)(g,p,h,!1,null,"4bb00f28",null),v=f.exports,_=function(){var t=this,n=t._self._c;return n("div",[n("h1",[t._v("Administración")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{placeholder:"Nombre"},domProps:{value:t.name},on:{input:function(n){n.target.composing||(t.name=n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],attrs:{placeholder:"Apellido"},domProps:{value:t.surname},on:{input:function(n){n.target.composing||(t.surname=n.target.value)}}}),n("button",{on:{click:t.addCoins}},[t._v("Agregar Coins")]),n("div",{style:{backgroundColor:t.barColor,width:t.barWidth+"%"}},[t._v(t._s(t.barWidth)+"%")]),t.barWidth>=100?n("div",[t._v("Llegaste al máximo de tu crédito")]):t._e(),t.likedGames.length?n("div",[n("h2",[t._v("Juegos que te gustan")]),n("ul",t._l(t.likedGames,(function(i){return n("li",{key:i.id},[t._v(t._s(i.name))])})),0)]):t._e()])},k=[],w={name:"AdminView",data(){return{name:"",surname:"",coins:0,likedGames:[]}},computed:{barWidth(){return Math.min(this.coins/50*100,100)},barColor(){return this.coins<=20?"green":this.coins<=30?"yellow":"red"}},methods:{addCoins(){this.coins<50&&(this.coins+=10)}}},y=w,O=(0,r.A)(y,_,k,!1,null,null,null),x=O.exports;const A="ac2583a546b44bce8336483f951ccf64",C="https://api.rawg.io/api";async function E(){try{const t=await fetch(`${C}/games?key=${A}`);if(!t.ok)throw new Error("Network response was not ok");const n=await t.json();return n.results}catch(t){return console.error("Fetch error:",t),[]}}var S={name:"HomeView",components:{GameCard:v,AdminView:x},data(){return{games:[],loading:!0,error:null,likedGames:[],showAdminSection:!1}},async created(){try{this.games=await E()}catch(t){this.error=t.message}finally{this.loading=!1}},methods:{handleLikeGame(t,n){const i=this.likedGames.find((n=>n.id===t.id));i?i.likes=n:this.likedGames.push({...t,likes:n}),console.log("Liked games:",this.likedGames)},toggleAdminSection(){this.showAdminSection=!this.showAdminSection}}},T=S,G=(0,r.A)(T,d,m,!1,null,"4324d3af",null),j=G.exports,N=function(){var t=this,n=t._self._c;return n("b-container",{staticClass:"opinions"},[n("b-row",[n("b-col",{staticClass:"text-center my-4",attrs:{cols:"12"}},[n("h1",[t._v("Opiniones sobre "+t._s(t.gameName))])])],1),n("b-row",[n("b-col",{staticClass:"mb-4",attrs:{cols:"12"}},[n("OpinionForm",{attrs:{opinionToEdit:t.opinionToEdit},on:{submitOpinion:t.handleSubmitOpinion}})],1)],1),n("b-row",[n("b-col",{attrs:{cols:"12"}},[0===t.opinions.length?n("div",{staticClass:"text-center text-muted"},[n("p",[t._v("No existen opiniones para mostrar.")])]):n("b-accordion",t._l(t.opinions,(function(i){return n("b-card",{key:i.id,staticClass:"mb-2"},[n("b-card-header",{staticClass:"d-flex justify-content-between align-items-center"},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+i.id,expression:"'accordion-' + opinion.id"}],attrs:{variant:"link"}},[t._v(" "+t._s(i.author)+" ")]),n("div",[n("b-button",{staticClass:"mr-2",attrs:{variant:"outline-primary"},on:{click:function(n){return t.editOpinion(i)}}},[t._v("Editar")]),n("b-button",{attrs:{variant:"outline-danger"},on:{click:function(n){return t.deleteOpinion(i.id)}}},[t._v("Eliminar")])],1)],1),n("b-collapse",{attrs:{id:"accordion-"+i.id}},[n("b-card-body",[t._v(" "+t._s(i.content)+" ")])],1)],1)})),1)],1)],1)],1)},$=[],P=(i(4520),function(){var t=this,n=t._self._c;return n("b-form",{on:{submit:function(n){return n.preventDefault(),t.submitOpinion.apply(null,arguments)}}},[n("b-form-group",{attrs:{label:"Tu nombre","label-for":"author-input"}},[n("b-form-input",{attrs:{id:"author-input",required:""},model:{value:t.author,callback:function(n){t.author=n},expression:"author"}})],1),n("b-form-group",{attrs:{label:"Tu opinión","label-for":"content-input"}},[n("b-form-textarea",{attrs:{id:"content-input",required:""},model:{value:t.content,callback:function(n){t.content=n},expression:"content"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v(t._s(t.isEditing?"Actualizar":"Agregar"))]),t.showAlert?n("b-alert",{attrs:{variant:"success",dismissible:""},on:{dismissed:function(n){t.showAlert=!1}}},[t._v(" Opinión actualizada ")]):t._e()],1)}),L=[],F={props:["opinionToEdit"],data(){return{author:"",content:"",isEditing:!1,showAlert:!1}},watch:{opinionToEdit:{immediate:!0,handler(t){t?(this.author=t.author,this.content=t.content,this.isEditing=!0):this.isEditing=!1}}},methods:{submitOpinion(){const t={id:this.isEditing?this.opinionToEdit.id:Date.now(),author:this.author,content:this.content};this.$emit("submitOpinion",t),this.author="",this.content="",this.isEditing=!1,this.showAlert=!0}}},V=F,M=(0,r.A)(V,P,L,!1,null,"4654de87",null),W=M.exports,q={name:"OpinionsView",components:{OpinionForm:W},data(){return{gameName:this.$route.params.game,opinions:[],opinionToEdit:null}},methods:{handleSubmitOpinion(t){const n=this.opinions.findIndex((n=>n.id===t.id));-1!==n?this.opinions.splice(n,1,t):this.opinions.push(t),this.opinionToEdit=null},editOpinion(t){this.opinionToEdit=t},deleteOpinion(t){this.opinions=this.opinions.filter((n=>n.id!==t))}}},H=q,z=(0,r.A)(H,N,$,!1,null,"3b611c0a",null),D=z.exports,I=function(){var t=this;t._self._c;return t._m(0)},J=[function(){var t=this,n=t._self._c;return n("div",[n("h1",[t._v("404 - Página no encontrada")])])}],R={},Y=(0,r.A)(R,I,J,!1,null,null,null),B=Y.exports;e["default"].use(u.Ay);const K=[{path:"/",name:"Home",component:j},{path:"/opinions/:game",name:"Opinions",component:D},{path:"/admin",name:"Admin",component:x},{path:"*",name:"NotFound",component:B}],Q=new u.Ay({mode:"hash",base:"/games_opinion_adry/",routes:K});var U=Q,X=i(1641),Z=i(4486);i(9313);e["default"].config.productionTip=!1,e["default"].use(X.vGs),e["default"].use(Z.YS),new e["default"]({router:U,render:t=>t(c)}).$mount("#app")},5211:function(t,n,i){t.exports=i.p+"img/iconogamer.3b877f66.jpeg"}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,i),a.exports}i.m=t,function(){var t=[];i.O=function(n,e,o,a){if(!e){var r=1/0;for(u=0;u<t.length;u++){e=t[u][0],o=t[u][1],a=t[u][2];for(var s=!0,l=0;l<e.length;l++)(!1&a||r>=a)&&Object.keys(i.O).every((function(t){return i.O[t](e[l])}))?e.splice(l--,1):(s=!1,a<r&&(r=a));if(s){t.splice(u--,1);var c=o();void 0!==c&&(n=c)}}return n}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[e,o,a]}}(),function(){i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,{a:n}),n}}(),function(){i.d=function(t,n){for(var e in n)i.o(n,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.p="/games_opinion_adry/"}(),function(){var t={524:0};i.O.j=function(n){return 0===t[n]};var n=function(n,e){var o,a,r=e[0],s=e[1],l=e[2],c=0;if(r.some((function(n){return 0!==t[n]}))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(l)var u=l(i)}for(n&&n(e);c<r.length;c++)a=r[c],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(u)},e=self["webpackChunkgames_opinion_adry"]=self["webpackChunkgames_opinion_adry"]||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}();var e=i.O(void 0,[504],(function(){return i(627)}));e=i.O(e)})();
//# sourceMappingURL=app.ab434cef.js.map